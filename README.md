# MashaBot

–ó–∞–ø—É—Å–∫ –¥–≤—É—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å—Ä–∞–∑—É:
- `masha-bot` (Java Telegram bot)
- `yt-video-analyzer` (Python FastAPI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ YouTube –ø–æ —Å—É–±—Ç–∏—Ç—Ä–∞–º)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
cp .env.example .env
# –∑–∞–ø–æ–ª–Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤ .env

docker compose up -d --build
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
docker compose ps
docker logs -f masha-bot
docker logs -f yt-video-analyzer
```

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
```bash
docker compose down
```

## –í–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

- `TG_BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `OPENAI_API_KEY` ‚Äî –∫–ª—é—á –¥–ª—è Java-–±–æ—Ç–∞ (OpenRouter/OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π)
- `OPENROUTER_API_KEY` ‚Äî –∫–ª—é—á –¥–ª—è `yt-video-analyzer`
- `VIDEO_ANALYZER_URL` ‚Äî URL Python-—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è Java-–±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://yt-video-analyzer:8000/analyze`)

### Selfie mode (fal.ai)

- `FAL_API_KEY` ‚Äî API key fal.ai
- `FAL_BASE_URL` ‚Äî –±–∞–∑–æ–≤—ã–π URL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://fal.run`)
- `FAL_SELFIE_MODEL_PATH` ‚Äî –º–æ–¥–µ–ª—å/–ø—É—Ç—å fal –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ–ª—Ñ–∏
- `HOST_SELFIE_REFERENCE_FILE` ‚Äî –ø—É—Ç—å –∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É –Ω–∞ —Ö–æ—Å—Ç–µ
- `SELFIE_REFERENCE_PATH` ‚Äî –ø—É—Ç—å –∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—É –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è read-only)
- `SELFIE_DAILY_LIMIT` ‚Äî –ª–∏–º–∏—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–π —Å–µ–ª—Ñ–∏ –≤ –¥–µ–Ω—å –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `FAVOURITE_USER_IDS` ‚Äî —Å–ø–∏—Å–æ–∫ Telegram user id –±–µ–∑ –ª–∏–º–∏—Ç–∞, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

–õ–æ–≥–∏–∫–∞:
- –ï—Å–ª–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞ –Ω–µ—Ç ‚Äî –º—è–≥–∫–∏–π —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –æ—Ç–∫–∞–∑ (–±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π)
- –ï—Å–ª–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω ‚Äî ¬´–¢—ã —É–∂–µ –∏ —Ç–∞–∫ –º–Ω–æ–≥–æ –º–æ–∏—Ö —Å–µ–ª—Ñ–∏ –ø–æ–ª—É—á–∏–ª, —Ö–≤–∞—Ç–∏—Ç —É–∂–µ —Ç–µ–±–µ üòå¬ª
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ‚Äî ¬´–Ø —Å–µ–π—á–∞—Å –∑–∞–Ω—è—Ç–∞ –∏ –Ω–µ –º–æ–≥—É —Å—Ñ–æ—Ç–∫–∞—Ç—å—Å—è üôè¬ª
- –ü–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –±–æ—Ç –ø–∏—à–µ—Ç: ¬´–ü–æ–¥–æ–∂–¥–∏ –º–∏–Ω—É—Ç–æ—á–∫—É, —Å–µ–π—á–∞—Å —Å—Ñ–æ—Ç–∫–∞—é—Å—å üì∏¬ª
